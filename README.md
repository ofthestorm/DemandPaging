
## 项目内容

假设每个页面可存放10条指令，分配给一个作业的内存块为4。使用请求分页分配方式模拟一个作业的执行过程，该作业有320条指令，即它的地址空间为32页，目前所有页还没有调入内存。



## 设计方案

- **生成随机指令序列**
  1. 在0－319条指令之间，随机选取一个起始执行指令，如序号为m。
  2. 顺序执行下一条指令，即序号为m+1的指令。
  3. 通过随机数，跳转到前地址部分0－m-1中的某个指令处，其序号为m1。
  4. 顺序执行下一条指令，即序号为m1+1的指令。
  5. 顺序执行下一条指令，即m2+1处的指令。
  6. 重复跳转到前地址部分、顺序执行、跳转到后地址部分、顺序执行的过  程，直到执行完320条指令。


- **算法**

  当内存中已有当前的页，则不需要调入。若没有，找到内存中的空位调入。若果内存中没有空位，应进行置换。置换采用了以下两个算法：

  - FIFO

    选择进入最早的页面置换。从0号块开始进行置换，记录发生置换的块的地址，每次发生置换后往后顺延一位。

    ```java
    memory[index] = currentPage;
    index = (index + 1) % 4;
    ```

  - LRU

    选择最长时间没有被使用过的页面置换。用一个数组记录内存每块最近被使用的情况，若被使用则置为0，未被使用则每次增加1，需要置换的时候选择数值最大的块进行置换。

    ```java
    memory[index] = currentPage;
    time[index] = 0;
    for (int j = 0; j < 4; j++) {
    	if (j != index)
        	time[j] += 1;
    }
    ```
